// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model products {
  id                     Int                      @id @default(autoincrement())
  name                   String
  count                  Int
  price                  Int
  discount               Decimal
  description            String
  country                String
  product_image          product_images[]
  products_product_sizes products_product_sizes[]
  users_products         users_products[]
  categories             categories?              @relation(fields: [categoriesId], references: [id])
  categoriesId           Int?
  product_codes          product_codes?           @relation(fields: [product_codesId], references: [id])
  product_codesId        Int?
}

model product_codes {
  id           Int        @id @default(autoincrement())
  product_code Int
  products     products[]
}

model product_images {
  id         Int       @id @default(autoincrement())
  image_url  String
  products   products? @relation(fields: [productsId], references: [id])
  productsId Int?
}

model product_sizes {
  id                     Int                      @id @default(autoincrement())
  size                   String
  products_product_sizes products_product_sizes[]
}

model products_product_sizes {
  id Int @id @default(autoincrement())

  products        products?      @relation(fields: [productsId], references: [id])
  productsId      Int?
  product_sizes   product_sizes? @relation(fields: [product_sizesId], references: [id])
  product_sizesId Int?
}

model categories {
  id       Int        @id @default(autoincrement())
  name     String
  products products[]
}

model users {
  id             Int              @id @default(autoincrement())
  email          String
  password       String
  name           String
  create_at      DateTime         @default(now())
  users_products users_products[]
}

model users_products {
  id Int @id @default(autoincrement())

  users      users?    @relation(fields: [usersId], references: [id])
  usersId    Int?
  products   products? @relation(fields: [productsId], references: [id])
  productsId Int?
}

model main_page_image {
  id        Int    @id @default(autoincrement())
  image_url String
}
